spring.application.name=api

# ===============================
# DATABASE CONNECTION (PostgreSQL)
# ===============================
spring.datasource.url=jdbc:postgresql://localhost:5432/quan_ly_nhan_khau
spring.datasource.username=postgres
spring.datasource.password=${DB_PASSWORD}

# ===============================
# JPA / HIBERNATE CONFIG
# ===============================
spring.jpa.hibernate.ddl-auto=update

spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

spring.sql.init.mode=always
spring.sql.init.data-locations=classpath:data/01_prepare_database.sql,classpath:data/02_ho_khau.sql,classpath:data/03_nhan_khau.sql,classpath:data/04_users.sql,classpath:data/05_khoan_thu.sql,classpath:data/06_lich_su_nop_tien.sql,classpath:data/07_tam_vang.sql,classpath:data/08_tam_tru.sql,classpath:data/09_lich_su_bien_dong.sql,classpath:data/10_finalize.sql,classpath:data/11_fix_user_roles.sql

spring.jpa.defer-datasource-initialization=true

# ===============================
# TIMEZONE CONFIGURATION
# ===============================
spring.jackson.time-zone=Asia/Ho_Chi_Minh
server.timezone=Asia/Ho_Chi_Minh

# ===============================
# VIETQR CONFIGURATION
# ===============================
# Lưu ý: VietQR Quick Link không cần API key
# Nếu muốn dùng API v2/generate, đăng ký tại my.vietqr.io để lấy Client ID và API Key
# Hoặc tích hợp với Casso/payOS để có webhook tự động
vietqr.client.id=${VIETQR_CLIENT_ID:}
vietqr.api.key=${VIETQR_API_KEY:}

# ===============================
# PAYMENT RECEIVER ACCOUNT
# ===============================
# Thông tin tài khoản nhận tiền
# PAYMENT_RECEIVER_ACCOUNT_NO: Số tài khoản đầy đủ (ví dụ: 1050566308)
# PAYMENT_RECEIVER_ACCOUNT_NAME: Tên chủ tài khoản IN HOA không dấu (ví dụ: TRAN VAN MANH)
# PAYMENT_RECEIVER_BANK_BIN: Mã BIN của ngân hàng (6 số, ví dụ: 970436 cho Vietcombank)
# PAYMENT_RECEIVER_TEMPLATE_ID: Template ID từ my.vietqr.io hoặc dùng "compact2" (mặc định)
payment.receiver.account.no=${PAYMENT_RECEIVER_ACCOUNT_NO:1050566308}
payment.receiver.account.name=${PAYMENT_RECEIVER_ACCOUNT_NAME:TRAN VAN MANH}
payment.receiver.bank.bin=${PAYMENT_RECEIVER_BANK_BIN:970436}
payment.receiver.bank.id=${PAYMENT_RECEIVER_BANK_ID:vietcombank}
payment.receiver.template.id=${PAYMENT_RECEIVER_TEMPLATE_ID:compact2}